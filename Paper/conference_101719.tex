\documentclass[conference]{IEEEtran}
\IEEEoverridecommandlockouts
% The preceding line is only needed to identify funding in the first footnote. If that is unneeded, please comment it out.
\usepackage{cite}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage{xcolor}
\usepackage[polish]{babel}
\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}
\begin{document}

\title{SqlRandomizer: rozwiązanie MTD do zabezpieczania serwerów z bazami danych}

\author{\IEEEauthorblockN{1\textsuperscript{st} Adam Grabski}
\IEEEauthorblockA{\textit{Wydział Elektroniki i Technik Informacyjnych} \\
\textit{Politechnika Warszawska}\\
Warszawa, Polska \\
adam.grabski.stud@pw.edu.pl}
\and
\IEEEauthorblockN{2\textsuperscript{nd} Artur Godlewski}
\IEEEauthorblockA{\textit{Wydział Elektroniki i Technik Informacyjnych} \\
\textit{Politechnika Warszawska}\\
Warszawa, Polska \\
artur.godlewski.stud@pw.edu.pl}}

\maketitle

\begin{abstract}
Bazy danych SQL stanowią podstawowe rozwiązanie do przechowywania danych w aplikacjach webowych.
Sprawia to, że atak typu sql-injection jest jednym z podstawowych typów zagrożeń w internecie.
SqlRandomizer wykorzystuje różnice w dialektach języka SQL, aby utrudnić atakującemu rozpoznanie i wykorzystanie podatności tego typu w aplikacji.


\end{abstract}

\begin{IEEEkeywords}
SQL, MTD, zabezpieczenia, moving target defence
\end{IEEEkeywords}

\section{Wstęp}

SQL jest językiem do pisania zapytań do bazy danych, używanym we wszystkich systemach DBMS.
Każdy producent tego typu oprogramowania ma jednak własny dialekt tego języka.
Różnice często bywają subtelne, jednak nie ma gwarancji, że skrypt napisany dla bazy Oracle będzie działał na bazie MsSql.

Ataki typu sql-injection na serwery stron internetowych wykorzystują braki w filtrowaniu danych użytkownika, na podstawie których, budowane są zapytania sql.
Atakujący musi w pierwszej kolejności rozpoznać miejsce w aplikacji, gdzie nie zaimplementowano dostatecznych zabezpieczeń.
Na tym etapie typ bazy danych może być nieznany.
Wystarczy, że atakujący wprowadzi błąd składniowy do generowanego zapytania.
W następnym etapie rozpoznania, atakujący musi ustalić jakiego typu baza danych jest używana, jak wygląda składnia zapytania którego, używa oraz jak wygląda schemat danych atakowanej aplikacji.
Po zebraniu tych danych może opracować zapytanie, które osiągnie wybrany przez niego cel.

\section{Opis rozwiązania}

W celu przetestowania rozwiązania zaimplementowano bibliotekę w języku C\#.
SqlRandomizer wykorzystuje różnice w dialektach SQL do utrudnienia rekonesansu.
Aby wykorzystać zaproponowane rozwiązanie, należy skonfigurować, w ramach chronionej aplikacji, co najmniej dwie różne bazy danych.
W trakcie działania programu nasza biblioteka będzie w losowych interwałach zmieniał która instancja jest używana.
Nasza biblioteka, przy zmianie używanej bazy, automatycznie dokona migracji danych i będzie tłumaczyć zapytania na odpowiedni dialekt.

Aby umożliwić automatyczną transformację zapytań użytkownika na odpowiedni dialekt, stworzono interfejs do oznaczania literałów w zapytaniu.
Biblioteka, następnie wstawia w oznaczonym miejscu odpowiednią wartość otoczoną cudzysłowami odpowiednimi dla obecnie używanej bazy danych.
Styl akceptowany przez wszystkie typy DBMS to apostrofy: ''.
SqlRandomizer w bazach akceptujących cudzysłów, wybiera losowy znak \cite{mtd:sql}.

To rozwiązanie zawiera więc dwa punkty swobody w atakowanym systemie: typ używanej bazy danych oraz styl oznaczania literałów w zapytaniu.
Dzięki temu atakującemu trudniej ustalić, z jaką bazą danych w danym momencie ma do czynienia.
Ta losowość powinna utrudnić rekonesans oraz wydłużyć czas potrzebny na wykorzystanie znalezionej podatności.

Wprowadzenie elementu losowości do komunikacji z bazą danych jest częstym tematem badań \cite{sqlRand}.


\section{Testy}
W celu przetestowania tego rozwiązania zostały przeprowadzone testy na prostej aplikacji, przechowującej ulubione liczby użytkowników.
\subsection{Model użycia aplikacji}
\subsection{Model ataku}
\section{Wnioski}

\begin{thebibliography}{00}
\bibitem{mtd:sql} M Taguinod, A Doupe, Z Zhao, i G Ahn , ``Toward a Moving Target Defense for Web Applications''Arizona State University, August 2015.
\bibitem{sqlRand} S W Boyd i A D. Keromytis ``SQLrand: Preventing SQL Injection Attacks'' 2004 Applied Cryptography and Network Security, pp 292-302
\end{thebibliography}
\vspace{12pt}
\end{document}
